#!/usr/bin/env node

console.log('üöÄ GUIDE DE D√âPLOIEMENT RAILWAY')
console.log('')
console.log('üìã √âTAPES DE D√âPLOIEMENT :')
console.log('')
console.log('1Ô∏è‚É£ PR√âPARATION :')
console.log('   ‚úÖ Fichiers de configuration cr√©√©s')
console.log('   ‚úÖ railway.toml configur√©')
console.log('   ‚úÖ Dockerfile optimis√©')
console.log('   ‚úÖ Scripts de build mis √† jour')
console.log('   ‚úÖ Health check endpoint ajout√©')
console.log('')
console.log('2Ô∏è‚É£ INSTALLATION RAILWAY CLI :')
console.log('   npm install -g @railway/cli')
console.log('   # ou')
console.log('   curl -fsSL https://railway.app/install.sh | sh')
console.log('')
console.log('3Ô∏è‚É£ CONNEXION √Ä RAILWAY :')
console.log('   railway login')
console.log('   # Suivez les instructions pour vous connecter')
console.log('')
console.log('4Ô∏è‚É£ INITIALISATION DU PROJET :')
console.log('   railway init')
console.log('   # Choisissez "Create new project"')
console.log('   # Donnez un nom √† votre projet (ex: alami-gestion)')
console.log('')
console.log('5Ô∏è‚É£ AJOUT DE LA BASE DE DONN√âES :')
console.log('   railway add postgresql')
console.log('   # Cela cr√©era automatiquement une base PostgreSQL')
console.log('')
console.log('6Ô∏è‚É£ CONFIGURATION DES VARIABLES D\'ENVIRONNEMENT :')
console.log('   railway variables set JWT_SECRET="votre-secret-jwt-super-securise"')
console.log('   railway variables set NODE_ENV="production"')
console.log('   railway variables set NEXT_PUBLIC_APP_URL="https://votre-app.railway.app"')
console.log('')
console.log('   # La DATABASE_URL sera automatiquement configur√©e par Railway')
console.log('')
console.log('7Ô∏è‚É£ D√âPLOIEMENT :')
console.log('   railway up')
console.log('   # Ou pour d√©ployer depuis GitHub :')
console.log('   # Connectez votre repo GitHub dans le dashboard Railway')
console.log('')
console.log('8Ô∏è‚É£ MIGRATION DE LA BASE DE DONN√âES :')
console.log('   railway run prisma migrate deploy')
console.log('   # Ou si vous pr√©f√©rez push :')
console.log('   railway run prisma db push')
console.log('')
console.log('9Ô∏è‚É£ CR√âATION D\'UN UTILISATEUR ADMIN :')
console.log('   railway run node scripts/create-owner.js')
console.log('')
console.log('üîü V√âRIFICATION :')
console.log('   # Votre app sera disponible sur :')
console.log('   # https://votre-projet.railway.app')
console.log('')
console.log('üìä COMMANDES UTILES :')
console.log('')
console.log('   üîç Voir les logs :')
console.log('   railway logs')
console.log('')
console.log('   üîß Ouvrir le shell :')
console.log('   railway shell')
console.log('')
console.log('   üì± Ouvrir l\'app :')
console.log('   railway open')
console.log('')
console.log('   ‚öôÔ∏è Variables d\'environnement :')
console.log('   railway variables')
console.log('')
console.log('   üóÑÔ∏è Connexion √† la DB :')
console.log('   railway connect postgresql')
console.log('')
console.log('üîí VARIABLES D\'ENVIRONNEMENT REQUISES :')
console.log('')
console.log('   DATABASE_URL     ‚Üí Automatique (Railway PostgreSQL)')
console.log('   JWT_SECRET       ‚Üí √Ä d√©finir (cha√Æne s√©curis√©e)')
console.log('   NODE_ENV         ‚Üí production')
console.log('   NEXT_PUBLIC_APP_URL ‚Üí URL de votre app Railway')
console.log('')
console.log('üí° CONSEILS :')
console.log('')
console.log('   üîê S√©curit√© :')
console.log('   ‚Ä¢ Utilisez un JWT_SECRET fort (32+ caract√®res)')
console.log('   ‚Ä¢ Ne commitez jamais les variables sensibles')
console.log('   ‚Ä¢ Activez l\'authentification 2FA sur Railway')
console.log('')
console.log('   üìà Performance :')
console.log('   ‚Ä¢ Railway utilise Nixpacks par d√©faut')
console.log('   ‚Ä¢ Le build inclut automatiquement Prisma generate')
console.log('   ‚Ä¢ Les migrations sont ex√©cut√©es au d√©ploiement')
console.log('')
console.log('   üîÑ CI/CD :')
console.log('   ‚Ä¢ Connectez votre repo GitHub pour auto-deploy')
console.log('   ‚Ä¢ Les push sur main d√©clenchent un red√©ploiement')
console.log('   ‚Ä¢ Utilisez les environments pour staging/prod')
console.log('')
console.log('üö® D√âPANNAGE :')
console.log('')
console.log('   ‚ùå Erreur de build :')
console.log('   ‚Ä¢ V√©rifiez que toutes les d√©pendances sont dans package.json')
console.log('   ‚Ä¢ Assurez-vous que Prisma generate s\'ex√©cute')
console.log('')
console.log('   ‚ùå Erreur de DB :')
console.log('   ‚Ä¢ V√©rifiez que les migrations sont appliqu√©es')
console.log('   ‚Ä¢ Utilisez railway logs pour voir les erreurs')
console.log('')
console.log('   ‚ùå Erreur 503 :')
console.log('   ‚Ä¢ V√©rifiez le health check : /api/health')
console.log('   ‚Ä¢ Augmentez le timeout si n√©cessaire')
console.log('')
console.log('üéØ √âTAPES SUIVANTES APR√àS D√âPLOIEMENT :')
console.log('')
console.log('   1. Testez toutes les fonctionnalit√©s')
console.log('   2. Cr√©ez un compte admin')
console.log('   3. Ajoutez des donn√©es de test')
console.log('   4. Configurez un nom de domaine personnalis√©')
console.log('   5. Activez les sauvegardes automatiques')
console.log('')
console.log('üîó LIENS UTILES :')
console.log('')
console.log('   üìö Documentation Railway : https://docs.railway.app')
console.log('   üéØ Dashboard Railway : https://railway.app/dashboard')
console.log('   üí¨ Support Railway : https://help.railway.app')
console.log('')
console.log('‚ú® VOTRE APPLICATION EST PR√äTE POUR LE D√âPLOIEMENT !')
console.log('üöÄ Suivez les √©tapes ci-dessus pour d√©ployer sur Railway !')
console.log('')
console.log('üí° Besoin d\'aide ? Consultez la documentation Railway ou contactez le support.')
