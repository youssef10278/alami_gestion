#!/usr/bin/env node

console.log('ğŸš€ DÃ‰PLOIEMENT RAILWAY VIA GITHUB')
console.log('')
console.log('âœ… Votre code est maintenant sur GitHub avec la configuration Railway !')
console.log('')
console.log('ğŸ”— Repository: https://github.com/youssef10278/alami_gestion.git')
console.log('')
console.log('ğŸ“‹ Ã‰TAPES DE DÃ‰PLOIEMENT :')
console.log('')
console.log('1ï¸âƒ£ ACCÃ‰DER Ã€ RAILWAY :')
console.log('   ğŸŒ Allez sur : https://railway.app')
console.log('   ğŸ”‘ Connectez-vous avec votre compte GitHub')
console.log('   ğŸ“± Ou crÃ©ez un compte si vous n\'en avez pas')
console.log('')
console.log('2ï¸âƒ£ CRÃ‰ER UN NOUVEAU PROJET :')
console.log('   â• Cliquez sur "New Project"')
console.log('   ğŸ“‚ SÃ©lectionnez "Deploy from GitHub repo"')
console.log('   ğŸ” Cherchez "alami_gestion" dans vos repositories')
console.log('   âœ… SÃ©lectionnez le repository')
console.log('')
console.log('3ï¸âƒ£ AJOUTER UNE BASE DE DONNÃ‰ES :')
console.log('   ğŸ—„ï¸ Dans votre projet Railway, cliquez sur "New"')
console.log('   ğŸ“Š SÃ©lectionnez "Database" â†’ "PostgreSQL"')
console.log('   âš¡ Railway crÃ©era automatiquement une base PostgreSQL')
console.log('   ğŸ”— La DATABASE_URL sera automatiquement configurÃ©e')
console.log('')
console.log('4ï¸âƒ£ CONFIGURER LES VARIABLES D\'ENVIRONNEMENT :')
console.log('   âš™ï¸ Dans votre service, allez dans l\'onglet "Variables"')
console.log('   â• Ajoutez les variables suivantes :')
console.log('')
console.log('   ğŸ” JWT_SECRET')
console.log('   Valeur : GÃ©nÃ©rez une chaÃ®ne sÃ©curisÃ©e (32+ caractÃ¨res)')
console.log('   Exemple : "votre-super-secret-jwt-key-change-this-in-production-123456789"')
console.log('')
console.log('   ğŸŒ NODE_ENV')
console.log('   Valeur : production')
console.log('')
console.log('   ğŸŒ NEXT_PUBLIC_APP_URL')
console.log('   Valeur : https://votre-app.railway.app (sera fournie aprÃ¨s dÃ©ploiement)')
console.log('')
console.log('5ï¸âƒ£ DÃ‰PLOIEMENT AUTOMATIQUE :')
console.log('   ğŸš€ Railway dÃ©tectera automatiquement votre railway.toml')
console.log('   ğŸ“¦ Le build commencera automatiquement')
console.log('   â±ï¸ Attendez 3-5 minutes pour le premier dÃ©ploiement')
console.log('   âœ… Votre app sera disponible sur une URL Railway')
console.log('')
console.log('6ï¸âƒ£ MIGRATION DE LA BASE DE DONNÃ‰ES :')
console.log('   ğŸ”§ Une fois le dÃ©ploiement terminÃ©, dans l\'onglet "Deployments"')
console.log('   ğŸ“± Cliquez sur le dernier dÃ©ploiement')
console.log('   ğŸ’» Ouvrez la "Console" ou "Shell"')
console.log('   âŒ¨ï¸ ExÃ©cutez : npx prisma migrate deploy')
console.log('   ğŸ“Š Ou si vous prÃ©fÃ©rez : npx prisma db push')
console.log('')
console.log('7ï¸âƒ£ CRÃ‰ER UN UTILISATEUR ADMIN :')
console.log('   ğŸ’» Dans la console Railway, exÃ©cutez :')
console.log('   ğŸ‘¤ node scripts/create-owner.js')
console.log('   ğŸ“ Suivez les instructions pour crÃ©er votre compte admin')
console.log('')
console.log('8ï¸âƒ£ CONFIGURATION DU DOMAINE (OPTIONNEL) :')
console.log('   ğŸŒ Dans l\'onglet "Settings" de votre service')
console.log('   ğŸ”— Section "Domains"')
console.log('   â• Ajoutez un domaine personnalisÃ© si souhaitÃ©')
console.log('   ğŸ“‹ Ou utilisez le domaine Railway fourni')
console.log('')
console.log('ğŸ¯ VÃ‰RIFICATIONS POST-DÃ‰PLOIEMENT :')
console.log('')
console.log('   âœ… Health Check :')
console.log('   ğŸŒ Visitez : https://votre-app.railway.app/api/health')
console.log('   ğŸ“Š Devrait retourner : {"status":"healthy",...}')
console.log('')
console.log('   âœ… Application :')
console.log('   ğŸ  Visitez : https://votre-app.railway.app')
console.log('   ğŸ”„ Devrait rediriger vers /dashboard')
console.log('   ğŸ”‘ Page de connexion devrait s\'afficher')
console.log('')
console.log('   âœ… Base de donnÃ©es :')
console.log('   ğŸ’» Console Railway : npx prisma studio')
console.log('   ğŸ“Š VÃ©rifiez que les tables sont crÃ©Ã©es')
console.log('')
console.log('ğŸ”„ DÃ‰PLOIEMENT AUTOMATIQUE :')
console.log('')
console.log('   ğŸ“ Chaque push sur la branche main dÃ©clenchera :')
console.log('   1. ğŸ”„ Rebuild automatique')
console.log('   2. ğŸš€ RedÃ©ploiement')
console.log('   3. âœ… Mise Ã  jour de l\'application')
console.log('')
console.log('   ğŸ’¡ Pour dÃ©sactiver : Settings â†’ "Auto Deploy" â†’ OFF')
console.log('')
console.log('ğŸ› ï¸ COMMANDES UTILES DANS LA CONSOLE RAILWAY :')
console.log('')
console.log('   ğŸ“Š Voir les logs :')
console.log('   tail -f /app/.next/standalone/server.js')
console.log('')
console.log('   ğŸ—„ï¸ Prisma Studio :')
console.log('   npx prisma studio --port 5555')
console.log('')
console.log('   ğŸ”„ Reset DB (ATTENTION - EFFACE TOUT) :')
console.log('   npx prisma migrate reset --force')
console.log('')
console.log('   ğŸ“¦ VÃ©rifier les dÃ©pendances :')
console.log('   npm list')
console.log('')
console.log('ğŸš¨ DÃ‰PANNAGE :')
console.log('')
console.log('   âŒ Erreur de build :')
console.log('   â€¢ VÃ©rifiez les logs dans l\'onglet "Deployments"')
console.log('   â€¢ Assurez-vous que toutes les dÃ©pendances sont dans package.json')
console.log('   â€¢ VÃ©rifiez que Prisma generate s\'exÃ©cute (script postinstall)')
console.log('')
console.log('   âŒ Erreur 503 Service Unavailable :')
console.log('   â€¢ VÃ©rifiez que le port 3000 est exposÃ©')
console.log('   â€¢ VÃ©rifiez les variables d\'environnement')
console.log('   â€¢ Consultez les logs d\'application')
console.log('')
console.log('   âŒ Erreur de base de donnÃ©es :')
console.log('   â€¢ VÃ©rifiez que PostgreSQL est ajoutÃ© au projet')
console.log('   â€¢ VÃ©rifiez que DATABASE_URL est automatiquement configurÃ©e')
console.log('   â€¢ ExÃ©cutez les migrations : npx prisma migrate deploy')
console.log('')
console.log('   âŒ Erreur de connexion :')
console.log('   â€¢ VÃ©rifiez JWT_SECRET dans les variables')
console.log('   â€¢ VÃ©rifiez NEXT_PUBLIC_APP_URL')
console.log('   â€¢ CrÃ©ez un utilisateur admin avec create-owner.js')
console.log('')
console.log('ğŸ’° COÃ›TS RAILWAY :')
console.log('')
console.log('   ğŸ†“ Plan gratuit :')
console.log('   â€¢ $5 de crÃ©dit gratuit par mois')
console.log('   â€¢ Parfait pour tester et dÃ©velopper')
console.log('   â€¢ Pas de carte de crÃ©dit requise')
console.log('')
console.log('   ğŸ’³ Plan payant :')
console.log('   â€¢ $5/mois par service actif')
console.log('   â€¢ Ressources illimitÃ©es')
console.log('   â€¢ Support prioritaire')
console.log('')
console.log('ğŸ”’ SÃ‰CURITÃ‰ :')
console.log('')
console.log('   âœ… HTTPS automatique')
console.log('   âœ… Variables d\'environnement chiffrÃ©es')
console.log('   âœ… Isolation des services')
console.log('   âœ… Sauvegardes automatiques de la DB')
console.log('')
console.log('ğŸ“ˆ MONITORING :')
console.log('')
console.log('   ğŸ“Š MÃ©triques disponibles :')
console.log('   â€¢ CPU et mÃ©moire')
console.log('   â€¢ Trafic rÃ©seau')
console.log('   â€¢ Temps de rÃ©ponse')
console.log('   â€¢ Logs en temps rÃ©el')
console.log('')
console.log('ğŸ‰ FÃ‰LICITATIONS !')
console.log('')
console.log('âœ¨ Votre application Alami Gestion sera bientÃ´t dÃ©ployÃ©e !')
console.log('ğŸŒ Accessible depuis n\'importe oÃ¹ dans le monde')
console.log('ğŸ”„ DÃ©ploiement automatique Ã  chaque push GitHub')
console.log('ğŸ—„ï¸ Base de donnÃ©es PostgreSQL managÃ©e')
console.log('ğŸ”’ HTTPS et sÃ©curitÃ© intÃ©grÃ©s')
console.log('')
console.log('ğŸ”— LIENS UTILES :')
console.log('')
console.log('   ğŸ¯ Railway Dashboard : https://railway.app/dashboard')
console.log('   ğŸ“š Documentation : https://docs.railway.app')
console.log('   ğŸ’¬ Support : https://help.railway.app')
console.log('   ğŸ™ Votre repo : https://github.com/youssef10278/alami_gestion')
console.log('')
console.log('ğŸš€ Bon dÃ©ploiement !')
